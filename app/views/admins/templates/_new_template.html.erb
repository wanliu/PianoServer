<div id="new-template" class="edit-preview-template" data-preview-url="<%= preview_admins_subject_templates_path(subject) %>">
  <ul class="nav nav-tabs">
    <li role="presentation" class="active">
      <a href="#edit-new-template" role="tab" data-toggle="tab">编辑</a>
    </li>
    <li role="presentation">
      <a href="#preview-new-template" class="preview-template-tab" role="tab" data-toggle="tab">预览</a>
    </li>
  </ul>

  <div class="tab-content">
    <%= render partial: "admins/templates/form", locals: { subject: subject, template: template } %>

    <div id="preview-new-template" class="tab-pane panel panel-default preview-template fade">
      <div class="panel-heading">
        <h3 class="panel-title"></h3>
      </div>
      <div class="preview">
        <iframe src="<%= preview_layout_admins_subject_templates_path(subject) %>" style="border: none;"></iframe>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
  (function() {
    var EditTemplate = window.EditTemplate;
    var templateName = "new-template";
    var editorName= "new-template-content";

    var editor = new NewTemplate($('#' + templateName), editorName);
  })();
</script>
