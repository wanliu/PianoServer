<div>
  <div class="alert alert-success infors" role="alert" style='display: none;'>
  </div>
  <div class='header'>运送员设置</div>
  <div>
    <div class='search-zone'>
      <input type='text'>
      <div class='search-results'>
      </div>
    <div>
  </div>
  <div class='delivers'>
  </div>
</div>

<script type="text/template" id='deliver-template'>
  <div class='item' style='float: left; margin: 10px; width:100px; height: 100px;' data-deliver-id='{{ id }}'>
    <div class='avatar'>
      <img src={{ avatar_url }}>
    </div>
    <div class='username'>
      {{ username }}
    </div>
    <div class='operations'>
      <%= button_to shop_admin_deliver_path(@shop.name, 88888888), method: :delete, remote: true, class: 'btn btn-danger' do %>
        <span class='glyphicon glyphicon-remove'></span>删除
      <% end %>
    </div>
  </div>
</script>

<script type="text/javascript">
(function (argument) {
  var delivers = <%= @delivers.to_json(methods: [:avatar_url, :username]).html_safe %>;
  var template = _.template($('#deliver-template').html());
  var $deliversContainer = $('.delivers');

  _.each(delivers, function(deliver) {
    var html = template(deliver).replace('88888888', deliver.id);
    $deliversContainer.append(html);
  });

  $('#search-delivers').keyup(function(event) {
    
  });
})();
</script>