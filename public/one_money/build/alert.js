(function(){this.AlertDismiss=function(){function t(t,e,n){n=n||{},this.title=t||"消息",this.msg=e||"",this.link=n.link||"#",this.buttons=n.buttons||[],this.style={container:{},panel:{},title:{},close:{}},this.render()}var e;return t.prototype.styleFormat=function(t){var e="",n=this.style[t];for(var i in n)e+=[i,":",n[i],";"].join("");return e},t.prototype.template=function(){return['<div class="alert-container" style="',this.styleFormat("container"),'">','<div class="panel-wrap">','<div class="panel" style="',this.styleFormat.panel,'">','<div class="alert-close-btn" style="',this.styleFormat("close"),'">×</div>','<div class="alert-title" style="',this.styleFormat("title"),'">',this.title,"</div>",'<p class="alert-msg">',this.msg,"</p>",this.generateButtons(),"</div>","</div>","</div>"].join("")},t.prototype.generateButtons=function(){for(var t=this.buttons,e=[],n=0;n<t.length;n++){var i=t[n],s=i.getTitle(),o=i.getAction(),l=i.getClasses();e.push(['<button class="',l,'" action="',o,'">',s,"</button>"].join(""))}return e.length>0?['<div class="action-buttons">',e.join(""),"</div>"].join(""):""},t.prototype.bindActionButtonEvents=function(){0!==this.buttons.length&&this.element.find(".btn").click(function(t){t.preventDefault();var e=$(this).attr("action");"#"!==e&&(window.location.href=e)})},t.prototype.bindCloseEvent=function(){var t=this;$(".alert-close-btn").on("click",function(){t.destroy()})},t.prototype.show=function(){this.element.fadeIn()},t.prototype.hide=function(){this.element.fadeOut()},t.prototype.destroy=function(){this.element.fadeOut(function(){$(this).remove()}),e=null},t.prototype.render=function(){this.element=$(this.template()).appendTo($("body")),this.bindCloseEvent(),this.bindActionButtonEvents(),this.show()},t.getAlertDismiss=function(n,i,s){return e&&e.destroy(),e=new t(n,i,s)},t}()}).call(this);